<!--Credit: Leaflet-->
<!--Tutorial: https://leafletjs.com/examples/quick-start/-->

<!DOCTYPE html>
<html lang="en">

<head>
	<base target="_top">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="main.css" type="text/css"/>
	 <link rel="stylesheet" href="food.css" type="text/css"/>



	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.2/dist/leaflet.css" integrity="sha256-sA+zWATbFveLLNqWO2gtiw3HL/lh1giY/Inf1BJ0z14=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.2/dist/leaflet.js" integrity="sha256-o9N1jGDZrf5tS+Ft4gbIK7mYMipq9lqpVJ91xHSyKhg=" crossorigin=""></script>

	<!--style>
		html, body {
			height: 100%;
			margin: 0;
		}
		.leaflet-container {
			height: 800px;
			width: 900x;
			max-width: 100%;
			max-height: 100%;
		}
	</style-->

</head>
<body>
	<ul>
   <li><a href="main.html">Home</a></li>
   <li><a href="food.html">Food</a></li>
 </ul>


    <h2>CPSC 254 CSUF Map</h2>

<div id="map" style="width: 50%; height: 90%;"></div>
<script>

	var map = L.map('map').setView([33.8823, -117.8851], 17);

	var tiles = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
		maxZoom: 19,
		attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
	}).addTo(map);

	var popup = L.popup();

	/*function onMapClick(e) {
    popup
        .setLatLng(e.latlng)
        .setContent("You clicked the map at " + e.latlng.toString())
        .openOn(map);
	}

	map.on('click', onMapClick);*/

	function highlightFeature(e) {
		var layer = e.target;
		layer.setStyle({
			weight: 5,
			color: '#666',
    	    dashArray: '',
    	    fillOpacity: 0.7
		});
		layer.bringToFront();
	}

	var MH = L.polygon([
    [33.879859, -117.885987],
	[33.879873, -117.885067],
    [33.879481, -117.885059],
	[33.879467, -117.885982]
	]).addTo(map)
	.bindPopup("<b>MH</b><br />McCarthy Hall");

	var PL = L.polygon([
    [33.88211, -117.885685],
	[33.882111, -117.885113],
    [33.880904, -117.885054],
	[33.880901, -117.885705]
	]).addTo(map)
	.bindPopup("<b>PL</b><br />Pollak Library<br>Starbucks");

	let isClicked = false

MH.on({
    mouseover: function() {
        if(!isClicked) {
            this.openPopup()
        }
    },
    mouseout: function() {
        if(!isClicked) {
            this.closePopup()
        }
    },
    click: function() {
        isClicked = true
        this.openPopup()
    }
})

mymap.on ({
    click: function() {
        isClicked = false
    },
    popupclose: function () {
        isClicked = false
    }
})

</script>



</body>
</html>
